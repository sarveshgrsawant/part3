{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/person.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Filter","props","findName","handleFindNo","value","onChange","PersonForm","newName","newNo","handleName","handleNo","submitName","onSubmit","type","Persons","personShow","removePerson","map","person","key","name","number","onClick","id","url","newPerson","axios","post","then","response","data","addPerson","put","delete","get","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorNotification","App","useState","persons","setPersons","setNewName","setNewNo","setFindName","noti","setNoti","errorNoti","setError","filteredPerson","filter","toLowerCase","includes","useEffect","PersonService","responseD","timeout","setTimeout","clearTimeout","event","target","preventDefault","console","log","existingPerson","find","window","confirm","concat","p","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c57f6604.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    const findName = props.findName\n    const handleFindNo = props.handleFindNo\n    \n    return(\n        <div>\n            filter shown with<input value={findName} onChange={handleFindNo} />\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n    const newName = props.newName\n    const newNo = props.newNo\n    const handleName = props.handleName\n    const handleNo = props.handleNo\n    const submitName = props.submitName\n    return (\n        <form onSubmit={submitName}>\n          <div>\n            name: <input value={newName} onChange={handleName} />\n            number: <input value={newNo} onChange={handleNo} />\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = (props) => {\n    const personShow = props.personShow\n    const removePerson = props.removePerson\n    return (\n        <ul>\n            {personShow.map((person => <li key={person.name}>{person.name} {person.number} <button onClick={()=>removePerson(person.id)}>delete</button></li>))}\n        </ul>\n    )\n}\n\nexport default Persons","import axios from 'axios'\n\nconst url = '/api/persons'\n\nconst add = (newPerson) => (\n    axios\n    .post(url, newPerson)\n    .then(response => \n        response.data\n    )\n)\n\nconst update = (id, addPerson) => (\n    axios\n    .put(`${url}/${id}`, addPerson)\n    .then(response =>\n        response.data    \n    )\n)\n\nconst remove = (id) => (\n    axios\n    .delete(`${url}/${id}`)\n    .then(response =>\n        response.data    \n    )\n)\n\nconst getAll = () => (\n    axios\n    .get(url)\n    .then(response =>\n        response.data\n    )\n)\n\nexport default {\n    add,\n    update,\n    remove,\n    getAll\n}","import React from 'react'\n\nconst Notification = ({ message }) => {\n    const notificationStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    if(message === null){\n        return null\n    }\n\n    return (\n        <div style={notificationStyle}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst ErrorNotification = ({ message }) => {\n    const notificationStyle = {\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    if(message === null){\n        return null\n    }\n\n    return (\n        <div style={notificationStyle}>\n            {message}\n        </div>\n    )\n}\n\nexport default ErrorNotification","\nimport React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport PersonService from './services/person'\nimport Notification from './components/Notification'\nimport ErrorNotification from './components/ErrorNotification'\n\nconst App = () => {\n    const [ persons, setPersons ] = useState([]) \n    const [ newName, setNewName ] = useState('')\n    const [ newNo, setNewNo ] = useState('')\n    const [ findName, setFindName ] = useState('')\n    const [ noti, setNoti ] = useState(null)\n    const [ errorNoti, setError ] = useState(null)\n\n    const handleFindNo = (event) => {   \n      setFindName(event.target.value)     \n    }\n\n    const handleName = (event) => {\n      setNewName(event.target.value)\n    } \n    const handleNo = (event) => {\n        setNewNo(event.target.value)\n    }\n    const submitName = (event) => {\n        event.preventDefault();\n\n        const newPerson = { name:newName, number:newNo }\n        console.log(newPerson);\n        \n        \n        const existingPerson = persons.find(person => person.name === newName)\n        \n        if(existingPerson){\n            const addPerson = {...existingPerson, number:newPerson.number}\n            if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n              \n              \n              PersonService\n              .update(existingPerson.id, addPerson)\n              .then(responseD => {\n                setPersons(persons.map(person => person.id !== responseD.id ? person : responseD))\n              })\n              setNewName('')\n              setNewNo('')\n            }\n        }else{\n            PersonService\n            .add(newPerson)\n            .then(responseD => {\n              setNoti(`Added ${responseD.name}`)\n              setPersons(persons.concat(responseD))\n              setNewName('')\n              setNewNo('')\n            })\n        }\n    }\n\n    const removePerson = (id) => {\n      PersonService\n      .remove(id)\n      .then(responseD => {\n        console.log(responseD)\n        setPersons(persons.filter(p => p.id !== id))\n      })\n      .catch(\n        () => setError(`Information of ${persons.find(p => p.id === id).name} has already been removed from the server`)\n      )\n    } \n    \n    const filteredPerson =  persons.filter(person => person.name.toLowerCase().includes(findName.toLowerCase()))\n\n    useEffect(\n      () => {\n        PersonService\n        .getAll()\n        .then(responseD => {\n          setPersons(responseD)\n        })\n      },\n      []\n    )\n\n    useEffect(\n      () => {\n        const timeout = setTimeout(\n          () => {\n            setNoti(null) \n          },\n          3000\n        )\n        return () => clearTimeout(timeout)\n      },\n      [noti]    \n    )\n\n    useEffect(\n      () => {\n        const timeout = setTimeout(\n          () => {\n            setError(null)\n          },\n          3000\n        )\n        return () => clearTimeout(timeout)\n      },\n      [errorNoti]\n    )\n    return (\n      <div>\n        <h2>Phonebook</h2>\n          <Notification message={noti} />\n          <ErrorNotification message={errorNoti} />\n          <Filter findName={findName} handleFindNo={handleFindNo} />\n        <h2>add a new</h2>\n          <PersonForm newName={newName} newNo={newNo} handleName={handleName} handleNo={handleNo} submitName={submitName} />\n        <h2>Numbers</h2>\n          <Persons personShow={filteredPerson} removePerson={removePerson}/>\n      </div>\n    )\n  }\n  \n  export default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}