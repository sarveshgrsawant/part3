{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/person.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Filter","props","findName","handleFindNo","value","onChange","PersonForm","newName","newNo","handleName","handleNo","submitName","onSubmit","type","Persons","personShow","removePerson","map","person","key","name","number","onClick","id","url","newPerson","axios","post","then","response","data","catch","error","console","log","JSON","stringify","addPerson","put","delete","get","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorNotification","App","useState","persons","setPersons","setNewName","setNewNo","setFindName","noti","setNoti","errorNoti","setError","filteredPerson","filter","toLowerCase","includes","useEffect","PersonService","responseD","timeout","setTimeout","clearTimeout","event","target","preventDefault","existingPerson","find","window","confirm","concat","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.78471fa4.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    const findName = props.findName\n    const handleFindNo = props.handleFindNo\n    \n    return(\n        <div>\n            filter shown with<input value={findName} onChange={handleFindNo} />\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n    const newName = props.newName\n    const newNo = props.newNo\n    const handleName = props.handleName\n    const handleNo = props.handleNo\n    const submitName = props.submitName\n    return (\n        <form onSubmit={submitName}>\n          <div>\n            name: <input value={newName} onChange={handleName} />\n            number: <input value={newNo} onChange={handleNo} />\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = (props) => {\n    const personShow = props.personShow\n    const removePerson = props.removePerson\n    return (\n        <ul>\n            {personShow.map((person => <li key={person.name}>{person.name} {person.number} <button onClick={()=>removePerson(person.id)}>delete</button></li>))}\n        </ul>\n    )\n}\n\nexport default Persons","import axios from 'axios'\n\nconst url = '/api/persons'\n\nconst add = (newPerson) => (\n    axios\n    .post(url, newPerson)\n    .then(response => \n        response.data\n    ).catch(error => {\n        console.log(`inside add ${JSON.stringify(error.response.data)}`)\n        return error.response.data\n    })\n)\n\nconst update = (id, addPerson) => (\n    axios\n    .put(`${url}/${id}`, addPerson)\n    .then(response =>\n        response.data    \n    )\n)\n\nconst remove = (id) => (\n    axios\n    .delete(`${url}/${id}`)\n    .then(response =>\n        response.data    \n    )\n)\n\nconst getAll = () => (\n    axios\n    .get(url)\n    .then(response =>\n        response.data\n    )\n)\n\nexport default {\n    add,\n    update,\n    remove,\n    getAll\n}","import React from 'react'\n\nconst Notification = ({ message }) => {\n    const notificationStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    if(message === null){\n        return null\n    }\n\n    return (\n        <div style={notificationStyle}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst ErrorNotification = ({ message }) => {\n    const notificationStyle = {\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    console.log(`inside error noti ${message}`)\n    if(message === null){\n        console.log(`inside error noti where msg is null ${message}`)\n        return null\n    }\n    console.log(`inside error noti where msg is not null ${message}`)\n    return (\n        <div style={notificationStyle}>\n            {message}\n        </div>\n    )\n}\n\nexport default ErrorNotification","\nimport React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport PersonService from './services/person'\nimport Notification from './components/Notification'\nimport ErrorNotification from './components/ErrorNotification'\n\nconst App = () => {\n    const [ persons, setPersons ] = useState([]) \n    const [ newName, setNewName ] = useState('')\n    const [ newNo, setNewNo ] = useState('')\n    const [ findName, setFindName ] = useState('')\n    const [ noti, setNoti ] = useState(null)\n    const [ errorNoti, setError ] = useState(null)\n\n    const handleFindNo = (event) => {   \n      setFindName(event.target.value)     \n    }\n\n    const handleName = (event) => {\n      setNewName(event.target.value)\n    } \n    const handleNo = (event) => {\n        setNewNo(event.target.value)\n    }\n    const submitName = (event) => {\n        event.preventDefault();\n\n        const newPerson = { name:newName, number:newNo }\n        console.log(newPerson);\n        \n        \n        const existingPerson = persons.find(person => person.name === newName)\n        \n        if(existingPerson){\n            const addPerson = {...existingPerson, number:newPerson.number}\n            if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n              \n              \n              PersonService\n              .update(existingPerson.id, addPerson)\n              .then(responseD => {\n                setPersons(persons.map(person => person.id !== responseD.id ? person : responseD))\n              })\n              setNewName('')\n              setNewNo('')\n            }\n        }else{\n            PersonService\n            .add(newPerson)\n            .then(responseD => {\n              setNoti(`Added ${responseD.name}`)\n              setPersons(persons.concat(responseD))\n              setNewName('')\n              setNewNo('')\n            }).catch(\n              () => setError(`Invalid format`)\n            )\n        }\n    }\n\n    const removePerson = (id) => {\n      PersonService\n      .remove(id)\n      .then(responseD => {\n        console.log(responseD)\n        setPersons(persons.filter(p => p.id !== id))\n      })\n      .catch(\n        () => setError(`Information of ${persons.find(p => p.id === id).name} has already been removed from the server`)\n      )\n    } \n    \n    const filteredPerson =  persons.filter(person => person.name.toLowerCase().includes(findName.toLowerCase()))\n\n    useEffect(\n      () => {\n        PersonService\n        .getAll()\n        .then(responseD => {\n          setPersons(responseD)\n        })\n      },\n      []\n    )\n\n    useEffect(\n      () => {\n        const timeout = setTimeout(\n          () => {\n            setNoti(null) \n          },\n          3000\n        )\n        return () => clearTimeout(timeout)\n      },\n      [noti]    \n    )\n\n    useEffect(\n      () => {\n        const timeout = setTimeout(\n          () => {\n            setError(null)\n          },\n          3000\n        )\n        return () => clearTimeout(timeout)\n      },\n      [errorNoti]\n    )\n    return (\n      <div>\n        <h2>Phonebook</h2>\n          <Notification message={noti} />\n          <ErrorNotification message={errorNoti} />\n          <Filter findName={findName} handleFindNo={handleFindNo} />\n        <h2>add a new</h2>\n          <PersonForm newName={newName} newNo={newNo} handleName={handleName} handleNo={handleNo} submitName={submitName} />\n        <h2>Numbers</h2>\n          <Persons personShow={filteredPerson} removePerson={removePerson}/>\n      </div>\n    )\n  }\n  \n  export default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}